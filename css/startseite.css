/* ===========================
   Startseite – Hero & Tiles (aufgeräumt)
   Ziele:
   - Bild liegt unter den Tiles (kein "durchscheinender" Button)
   - .tile (Button + Link) hat weißen Hintergrund: var(--color-bg)
   - Panels via JS [hidden] ein/aus; .tile-group.open rotiert Chevron
   =========================== */

.startseite-section{
    padding-bottom: var(--space-md);
    background: var(--color-bg);
}

.startseite-container{
    position: relative; /* Stacking-Context */
}

/* Hero-Bild unter die Tiles */
.startseite-container > img,
.startseite-container .single-image{
    position: relative;
    z-index: 0;
    display: block;
    width: 100%;
    height: auto;
}

/* ---------- Tiles Layout ---------- */

.tiles{
    position: relative;
    z-index: 10;

    --tiles-overlap: 44px;
    margin-top: calc(-1 * var(--tiles-overlap));
    margin-inline: var(--space-sm);

    background: transparent;
    overflow: visible;
}

.tiles-wrapper{
    display: grid;
    gap: var(--space-sm);
}

.tile-group{
    position: relative;
    z-index: 11;

    border: 1px solid var(--color-primary);
    border-radius: 10px;
    overflow: hidden;
    box-shadow: var(--shadow-sm);
}

/* WICHTIG: .tile gilt für <button> UND <a> */
.tile{
    display: grid;
    grid-template-columns: 56px 1fr 44px; /* Icon | Label | Chevron */
    align-items: center;
    min-height: 56px;

    background-color: var(--color-bg); /* <- weiß */
    color: inherit;
    text-decoration: none;

    border: 0;
    outline: 0;
    padding: 0; /* wird über Grid/Child-Abstände gesteuert */
}

/* --- Fix: "Bild blitzt durch" beim Tap (Mobile Rendering) --- */
.tile{
    transform: translateZ(0);
    will-change: transform;
    -webkit-tap-highlight-color: transparent;
    background-color: var(--color-bg);
    background-clip: padding-box;
}

.tile:active{
    background-color: color-mix(in srgb, var(--color-bg) 92%, #000 8%);
}

.tile:focus-visible{
    outline: 2px solid color-mix(in oklch, var(--color-primary), white 35%);
    outline-offset: 2px;
    border-radius: 10px;
}

/* Button-Reset: damit <button.tile> wie <a.tile> aussieht */
button.tile{
    appearance: none;
    -webkit-appearance: none;
    font: inherit;
    -webkit-text-fill-color: currentColor;

    width: 100%;
    text-align: left;
    margin: 0;

    cursor: pointer;
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
    background-color: var(--color-bg);
}

/* Icon links (farbige Leiste) */
.tile-icon{
    width: 56px;
    height: 100%;
    display: grid;
    place-items: center;

    background: var(--color-primary);
    border-right: 1px solid rgba(255,255,255,.18);
}

.tile-icon .icon{
    width: 32px;
    height: 32px;
    display: block;
}

/* Label */
.tile-label{
    font-weight: 600;
    font-size: clamp(1.05rem, 1.2vw + .7rem, 1.4rem);
    letter-spacing: .02em;
    margin-left: var(--space-md);
    color: var(--color-primary-dark);
}

/* Chevron */
.tile-chevron{
    display: grid;
    place-items: center;
}

.tile-chevron .icon{
    transition: transform 200ms ease;
}

.tile-group.open .tile-chevron .icon{
    transform: rotate(180deg);
}

/* Panel */
.tile-panel{
    position: relative;
    z-index: 11;

    background-color: var(--color-bg);
    padding: 1rem 1.25rem 1.25rem;
    border-top: 1px solid rgba(0,0,0,.08);

    color: var(--color-text);
    font-size: 0.95rem;

    /* gute Ziffernausrichtung, falls Font es unterstützt */
    font-variant-numeric: tabular-nums;
    font-feature-settings: "tnum" 1, "lnum" 1;
}

/* ---------- Kontakt-Layout im Panel ---------- */

.startseite-section .tile-panel .kontakt-item{
    display: flex;
    align-items: flex-start;
    gap: 1rem;

    padding-bottom: 1.2rem;
    border-bottom: 1px solid rgba(0,0,0,.12);
}

.startseite-section .tile-panel .kontakt-item + .kontakt-item{
    margin-top: 1rem;
}

.startseite-section .tile-panel .kontakt-item:last-child{
    padding-bottom: 0;
    border-bottom: none;
}

.startseite-section .tile-panel .kontakt-item .icon{
    width: 24px;
    height: 24px;
    flex: 0 0 24px;
    margin-top: 0.15rem;
    color: var(--color-primary);
}

.startseite-section .tile-panel .kontakt-item h4{
    font-size: 1.05rem;
    margin: 0 0 .3rem;
    color: var(--color-primary);
}

.startseite-section .tile-panel .kontakt-item p{
    margin: 0;
    color: var(--color-text);
}

/* =========================================================
   SPRECHZEITEN – neuer Aufbau:
   - Linke Spalte: kleines Schedule-Icon + Tag darunter (2 Zeilen)
   - Rechte Spalte: Zeitspalten sauber untereinander (Tabular + feste Spalten)
   ========================================================= */

/* Nur innerhalb des Sprechzeiten-Panels anwenden */
#tile-panel-sprechzeiten .kontakt-item{
    /* im Sprechzeiten-Panel etwas engere Lücke, damit rechts mehr Platz ist */
    gap: .75rem;
}

/* Linkes Icon etwas kleiner, damit es wie "Badge" wirkt */
#tile-panel-sprechzeiten .kontakt-item > .icon{
    width: 22px;
    height: 22px;
    flex: 0 0 22px;
    margin-top: .2rem;
}

/* Liste bekommt volle Breite */
#tile-panel-sprechzeiten .sprechzeiten-liste{
    gap: .6rem;
}

/* Jede Zeile: links "Tag unter Icon", rechts Zeiten */
#tile-panel-sprechzeiten .sprechzeiten-liste > li{
    display: grid;
    grid-template-columns: 6.25rem 1fr; /* links kompakter -> mehr Platz für Zeiten */
    column-gap: .9rem;
    align-items: start;
}

/* Linke "Tag"-Spalte: Tag halb unter Icon (optisch unter dem schedule icon) */
#tile-panel-sprechzeiten .sprechzeiten-liste .day{
    display: block;
    line-height: 1.05;
    font-weight: 600;
    color: var(--color-text);

    /* "halb darunter": nach links/oben schieben, sodass es unter dem Icon sitzt */
    margin-left: -1.9rem;  /* ~ Iconbreite (22px) + etwas Luft */
    margin-top: .35rem;
}

/* Rechte Spalte: Zeitblöcke untereinander */
#tile-panel-sprechzeiten .sprechzeiten-liste .times{
    display: grid;
    gap: .25rem;
}

/* Zeitblock: feste Spalten + tabular numerals -> sauber untereinander */
#tile-panel-sprechzeiten .sprechzeiten-liste .time-range{
    display: grid;
    grid-template-columns: 5ch 1.5ch 5ch; /* 08:00 | – | 12:00 */
    align-items: baseline;
    white-space: nowrap;

    font-variant-numeric: tabular-nums;
    font-feature-settings: "tnum" 1, "lnum" 1;
}

/* Zahlen rechtsbündig, damit die Doppelpunkte sauber stehen */
#tile-panel-sprechzeiten .sprechzeiten-liste .t-start,
#tile-panel-sprechzeiten .sprechzeiten-liste .t-end{
    text-align: right;
}

/* Trenner mittig */
#tile-panel-sprechzeiten .sprechzeiten-liste .t-sep{
    text-align: center;
    opacity: .85;
}

/* Hint-Zeile: links "leer" lassen, rechts normal */
#tile-panel-sprechzeiten .sprechzeiten-liste .sprechzeiten-hint .day{
    visibility: hidden;
    margin: 0; /* keine Verschiebung in der Hint-Zeile */
}

/* sehr kleine Geräte: linke Spalte noch etwas schmaler */
@media (max-width: 360px){
    #tile-panel-sprechzeiten .sprechzeiten-liste > li{
        grid-template-columns: 5.75rem 1fr;
        column-gap: .75rem;
    }
    #tile-panel-sprechzeiten .sprechzeiten-liste .day{
        margin-left: -1.75rem;
    }
}

/* ---------- Bereitschaftsdienst (ohne Icon) ---------- */

.tile.tile--noicon{
    grid-template-columns: 1fr 44px;
    min-height: 40px;
}

.tile.tile--noicon .tile-icon{
    display: none;
}

.tile.tile--noicon .tile-label{
    font-weight: 400;
    font-size: 1rem;
    line-height: 1.1;
}

/* ---------- Desktop ---------- */

@media (min-width: 768px){
    .tiles-wrapper{
        grid-template-columns: repeat(2, 1fr);
        gap: 1rem;
    }

    .tiles-wrapper > .tile-group:nth-child(3),
    .tiles-wrapper > .tile-group:nth-child(4){
        grid-column: 1 / -1;
    }

    /* Standard: Chevron ausblenden */
    .tile{
        grid-template-columns: 56px 1fr;
    }
    .tile-chevron{
        display: none;
    }

    /* Ausnahme: Bereitschaftsdienst mit Chevron */
    .tile.tile--noicon{
        grid-template-columns: 1fr 44px;
    }
    .tile.tile--noicon .tile-chevron{
        display: grid;
    }

    /* Panels: Standort + Sprechzeiten auf Desktop immer sichtbar */
    .tiles-wrapper > .tile-group:nth-child(1) > .tile-panel,
    .tiles-wrapper > .tile-group:nth-child(2) > .tile-panel{
        display: block !important;
        height: auto !important;
        max-height: none !important;
    }

    /* Desktop: Standort + Sprechzeiten nicht klickbar */
    .tiles-wrapper > .tile-group:nth-child(1) > .tile,
    .tiles-wrapper > .tile-group:nth-child(2) > .tile{
        pointer-events: none;
        cursor: default;
    }
}